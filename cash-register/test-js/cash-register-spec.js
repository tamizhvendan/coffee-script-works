// Generated by CoffeeScript 1.3.3
(function() {

  describe("Dish", function() {
    beforeEach(function() {
      return this.dish = new Dish("Masala Dosa $5.99 mains");
    });
    it("extracts title", function() {
      return (expect(this.dish.title)).toEqual("Masala Dosa");
    });
    return it("extracts price", function() {
      return (expect(this.dish.price.cents)).toEqual(599);
    });
  });

  describe("Money", function() {
    describe("valid value", function() {
      beforeEach(function() {
        return this.money = new Money("$5.99");
      });
      it("parses to cents", function() {
        return (expect(this.money.cents)).toEqual(599);
      });
      return it("formats to string", function() {
        return (expect(this.money.toString())).toEqual("$5.99");
      });
    });
    return describe("invalid value", function() {
      return it("sets cents to zero if a money value can't be parsed", function() {
        var money;
        money = new Money("foo");
        (expect(money.cents)).toEqual(0);
        return (expect(money.cents)).toEqual(0);
      });
    });
  });

  describe("Dish", function() {
    beforeEach(function() {
      this.idly = new Dish("Idly $2.99");
      return this.dosa = new Dish("Dosa $3.00");
    });
    return describe("blank object", function() {
      beforeEach(function() {
        return this.meal = new Meal;
      });
      it("adds a single dish", function() {
        this.meal.add(this.idly);
        return (expect(this.meal.dishes.length)).toEqual(1);
      });
      it("adds several dishes", function() {
        this.meal.add(this.idly, this.dosa);
        return (expect(this.meal.dishes.length)).toEqual(2);
      });
      return it("calculates the total price", function() {
        this.meal.add(this.idly, this.dosa);
        return (expect(this.meal.totalPrice().cents)).toEqual(599);
      });
    });
  });

}).call(this);
